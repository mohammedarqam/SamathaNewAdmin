<ion-header>
  <ion-navbar color="primary">
    <ion-title>Schools Assignments</ion-title>
  </ion-navbar>
</ion-header>


<ion-content padding>

  <ion-grid>
    <ion-row>
      <ion-col col-4>
        <ion-item no-lines class="content">
          <h1 class="title" item-start>{{anmJ.FirstName}}&nbsp;{{anmJ.LastName}}</h1>
        </ion-item>
      </ion-col>
    </ion-row>
  </ion-grid>


  <ion-grid>
    <ion-row>
      <ion-col col-6>
        <ion-card>
          <ion-card-content>
            <ion-card-title color="primary">Current Schools</ion-card-title>
            <ion-item *ngFor="let j of assignedJobs" >
              <p item-start>{{j.SchoolName}} </p>
              <ion-buttons end>
                <button ion-button clear (click)="gtSchoolDetails(j)">Details</button>
                <button ion-button color="danger" clear (click)="removeSchoolC(j)">Remove</button>
              </ion-buttons>
            </ion-item>
          </ion-card-content>
        </ion-card>
      </ion-col>
      <ion-col col-6>
        <ion-card>
          <ion-card-content>

            <ion-card-title color="primary" >Assign School</ion-card-title>

            <ion-item>
              <ion-label floating>Select Mandal</ion-label>
              <ion-select [(ngModel)]="mandalSel" (ionChange)="getVillages()">
                <ion-option *ngFor="let m of mandals" [value]="m.key">{{m.Name}} </ion-option>
              </ion-select>
            </ion-item>
            <ion-item *ngIf="nVillD">
              <p ion-text color="danger"> No Villages Found</p>
            </ion-item>
            <ion-item *ngIf="villages.length">
              <ion-label floating>Select Village</ion-label>
              <ion-select [(ngModel)]="villageSel" (ionChange)="getSchools()">
                <ion-option *ngFor="let v of villages" [value]="v.key">{{v.Name}} </ion-option>
              </ion-select>
            </ion-item>


            <ion-item *ngIf="nSchlD && !schools.length">
              <p ion-text color="danger"> No Schools Found</p>
            </ion-item>
            <ion-item *ngIf="schools.length">
              <ion-label floating>Select School</ion-label>
              <ion-select [(ngModel)]="schoolSel">
                <ion-option *ngFor="let s of schools" [value]="s">{{s.Name}} </ion-option>
              </ion-select>
            </ion-item>

            <button ion-button *ngIf="schoolSel" float-right (click)="assignSchool()">Assign</button>

          </ion-card-content>
        </ion-card>

      </ion-col>
    </ion-row>
  </ion-grid>


</ion-content>